<html>
<style>
  .ct{
    width: 910px;
    margin: auto;
  }
  .main{
    float: left;
    width: 450px;
    height: 300px;
    border: 1px solid #ccc;
  }
  .main input{
    margin: 20px;
    width: 200px;
  }
  .iframe{
    float: right;
  }
  iframe{
    width: 450px;
    height: 300px;
    border: 1px dashed #ccc;
  }
</style>
<div class="ct">

  <div class="ct">
  	<h1>使用postMessage实现跨域</h1>
  	<div class="main">
  		<input type="text" placeholder="http://a.cc.com:8080/a.html">
  	</div>

  	<iframe src="http://b.cc.com:8080/b.html" frameborder="0" ></iframe>

  </div>

<script>
// URL: http://b.jrg.com:8080/b.html

$('input').addEventListener('input', function(){
	window.parent.postMessage(this.value, '*');
})
window.addEventListener('message',function(e) {
		$('input').value = e.data
    console.log(e.data);
});
function $(id){
	return document.querySelector(id);
}

</script>
</html>
